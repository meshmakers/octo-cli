name: $(MajorVersion).$(MinorVersion).$(date:yyMM).$(DayOfMonth)$(rev:rrr)

trigger:
  batch: true
  branches:
    include:
      - main
      - releases/2.0    

variables:
  Company: "meshmakers GmbH"
  Copyright: "(c) 2022-2023 meshmakers GmbH"
        
pool:
  name: Gerald-Local-Linux
  
steps:
- template: setversion.yml
- template: dotnet-publish-to-zip.yml
  parameters:
    exeName: 'octo-cli'
    runtime: 'linux-x64'
    project: 'src/ManagementTool/*.csproj'
- template: dotnet-publish-to-zip.yml
  parameters:
    exeName: 'octo-cli'
    runtime: 'osx-x64'
    project: 'src/ManagementTool/*.csproj'
- template: dotnet-publish-to-zip.yml
  parameters:
    exeName: 'octo-cli'
    runtime: 'win-x64'
    project: 'src/ManagementTool/*.csproj'